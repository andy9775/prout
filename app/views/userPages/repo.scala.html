@import lib.ConfigFinder.ProutConfigFileName
@(proutPresenceQuickCheck: Boolean, repoSnapshot: lib.RepoSnapshot)(implicit req: Request[AnyContent])
@main {
    <div class="row">
        <div class="col-md-6">
            @for(permissions <- repoSnapshot.repo.permissions) {
                <h3>Permissions for @lib.Bot.user.atLogin</h3>
                <ul>
                    <li><em>push</em> @if(permissions.push) {
                        <span class="octicon octicon-check"></span>
                    } else {
                        <span class="octicon octicon-alert"></span>
                        Push permission is needed for writing comments and setting labels!
                    }
                     </li>
                </ul>
            }
            <h3>Config files</h3>
            @if(!proutPresenceQuickCheck) {
                <span class="octicon octicon-alert"></span>
                Quick check for @ProutConfigFileName failed!
                @if(repoSnapshot.config.checkpointsByFolder.nonEmpty) {
                    GitHub seems to be returning data different to the Git repo itself...
                }
            }
            <p>
                <ul>
            @for((folder, configInFolder) <- repoSnapshot.config.checkpointsByFolder) {
                <li>@folder@ProutConfigFileName @configInFolder.fold(errors => {
                <span class="octicon octicon-alert"></span>
                },validConfig => {
                <span class="octicon octicon-check"></span>
                })
                </li>
            }
            </ul>
            </p>
        </div>
    </div>
}